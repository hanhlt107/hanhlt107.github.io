---
layout: post
title: Hi·ªÉu R√µ v·ªÅ VIEW trong SQL
subtitle: TƒÉng hi·ªáu qu·∫£ truy v·∫•n v√† b·∫£o m·∫≠t d·ªØ li·ªáu v·ªõi VIEW trong SQL
cover-img: /assets/img/code-sql.jpg
thumbnail-img: /assets/img/sql-thumb.png
share-img: /assets/img/sql.bin
tags: [books, blogs, SQL Server]
comments: true
---

>Khi l√†m vi·ªác v·ªõi c∆° s·ªü d·ªØ li·ªáu, vi·ªác t·ªï ch·ª©c v√† truy xu·∫•t d·ªØ li·ªáu m·ªôt c√°ch hi·ªáu qu·∫£ l√† ƒëi·ªÅu t·ªëi quan tr·ªçng. Trong SQL, **VIEW** l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p l·∫≠p tr√¨nh vi√™n d·ªÖ d√†ng h∆°n trong vi·ªác x·ª≠ l√Ω truy v·∫•n ph·ª©c t·∫°p, ƒë·∫£m b·∫£o b·∫£o m·∫≠t v√† hi·ªáu su·∫•t h·ªá th·ªëng. B√†i vi·∫øt n√†y s·∫Ω gi√∫p b·∫°n hi·ªÉu r√µ **VIEW trong SQL** l√† g√¨, t·∫°i sao n√™n d√πng v√† c√°ch s·ª≠ d·ª•ng n√≥ trong th·ª±c t·∫ø.

<div style="border: 1px solid #e6e6e6; margin:48px 0"></div>

### üß† VIEW l√† g√¨?
**VIEW** l√† m·ªôt b·∫£ng ·∫£o ƒë∆∞·ª£c t·∫°o ra t·ª´ m·ªôt c√¢u l·ªánh SELECT. N√≥ kh√¥ng l∆∞u tr·ªØ d·ªØ li·ªáu th·ª±c t·∫ø m√† ch·ªâ l∆∞u c√¢u l·ªánh truy v·∫•n ƒë·ªÉ khi c·∫ßn truy xu·∫•t, SQL s·∫Ω th·ª±c hi·ªán c√¢u l·ªánh ƒë√≥ v√† tr·∫£ v·ªÅ k·∫øt qu·∫£ nh∆∞ m·ªôt b·∫£ng th·∫≠t.

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### ‚úîÔ∏è ∆Øu ƒëi·ªÉm c·ªßa VIEW
**VIEW** mang l·∫°i nhi·ªÅu l·ª£i √≠ch trong vi·ªác qu·∫£n l√Ω c∆° s·ªü d·ªØ li·ªáu:

* **Kh√¥ng ph·∫£i vi·∫øt l·∫°i c√¢u l·ªánh truy v·∫•n:** V·ªõi nh·ªØng c√¢u truy v·∫•n ph·ª©c t·∫°p, thay v√¨ ph·∫£i vi·∫øt ƒëi vi·∫øt l·∫°i nhi·ªÅu l·∫ßn, b·∫°n ch·ªâ c·∫ßn t·∫°o VIEW m·ªôt l·∫ßn r·ªìi s·ª≠ d·ª•ng l·∫°i d·ªÖ d√†ng.

* **M√°y ch·∫°y nhanh h∆°n v√¨ ƒë√£ bi√™n d·ªãch c√¢u l·ªánh:** VIEW gi√∫p ti·∫øt ki·ªám th·ªùi gian x·ª≠ l√Ω v√¨ c√¢u truy v·∫•n ƒë√£ ƒë∆∞·ª£c t·ªëi ∆∞u h√≥a.

* **Truy·ªÅn c√¢u l·ªánh l√™n server nhanh h∆°n:** V√¨ ch·ªâ c·∫ßn g·ªçi VIEW, kh√¥ng ph·∫£i g·ª≠i to√†n b·ªô c√¢u l·ªánh SQL ph·ª©c t·∫°p.

* **B·∫£o m·∫≠t h∆°n:** B·∫°n c√≥ th·ªÉ gi·ªõi h·∫°n quy·ªÅn truy c·∫≠p th√¥ng qua VIEW, ch·ªâ cho ph√©p ng∆∞·ªùi d√πng xem m·ªôt ph·∫ßn d·ªØ li·ªáu.

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### ‚ö†Ô∏è Nh∆∞·ª£c ƒëi·ªÉm c·ªßa VIEW
Nh·ªØng h·∫°n ch·∫ø b·∫°n c·∫ßn c√¢n nh·∫Øc khi s·ª≠ d·ª•ng **VIEW**:

* **Kh√¥ng l∆∞u d·ªØ li·ªáu th·ª±c:** M·ªói l·∫ßn g·ªçi VIEW, h·ªá th·ªëng v·∫´n ph·∫£i ch·∫°y c√¢u l·ªánh g·ªëc, c√≥ th·ªÉ ·∫£nh h∆∞·ªüng ƒë·∫øn hi·ªáu nƒÉng n·∫øu d·ªØ li·ªáu l·ªõn.

* **Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t d·ªØ li·ªáu d·ªÖ d√†ng:** M·ªôt s·ªë VIEW (ƒë·∫∑c bi·ªát l√† VIEW ph·ª©c t·∫°p ho·∫∑c c√≥ JOIN, GROUP BY...) kh√¥ng h·ªó tr·ª£ c·∫≠p nh·∫≠t, ch√®n, xo√° d·ªØ li·ªáu tr·ª±c ti·∫øp.

* **Kh√≥ debug:** Khi VIEW ƒë∆∞·ª£c l·ªìng nhi·ªÅu l·ªõp ho·∫∑c qu√° ph·ª©c t·∫°p, vi·ªác theo d√µi v√† ki·ªÉm tra logic truy v·∫•n c√≥ th·ªÉ tr·ªü n√™n kh√≥ khƒÉn.

* **Ph·ª• thu·ªôc v√†o b·∫£ng g·ªëc:** N·∫øu b·∫£ng g·ªëc thay ƒë·ªïi (xo√° c·ªôt, ƒë·ªïi t√™n), VIEW c√≥ th·ªÉ b·ªã l·ªói n·∫øu kh√¥ng ƒë∆∞·ª£c c·∫≠p nh·∫≠t t∆∞∆°ng ·ª©ng.

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### üìå M·ªôt s·ªë l∆∞u √Ω v·ªÅ VIEW
* T√™n c·ªôt trong VIEW ph·∫£i l√† **duy nh·∫•t**, ƒë·∫£m b·∫£o kh√¥ng c√≥ s·ª± nh·∫ßm l·∫´n khi truy xu·∫•t d·ªØ li·ªáu.
* Tr√°nh s·ª≠ d·ª•ng `SELECT *` trong m√¥i tr∆∞·ªùng s·∫£n xu·∫•t ƒë·ªÉ tƒÉng hi·ªáu su·∫•t v√† r√µ r√†ng.

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### üìö Khi n√†o n√™n s·ª≠ d·ª•ng VIEW?
Nh·ªØng t√¨nh hu·ªëng th·ª±c t·∫ø ƒë·ªÉ √°p d·ª•ng **VIEW** hi·ªáu qu·∫£:
* Khi c√≥ nhi·ªÅu truy v·∫•n l·∫∑p l·∫°i.

* Khi c·∫ßn ƒë∆°n gi·∫£n h√≥a truy v·∫•n ph·ª©c t·∫°p.

* Khi c·∫ßn t√°ch bi·ªát quy·ªÅn truy c·∫≠p d·ªØ li·ªáu.

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### üö´ Khi n√†o kh√¥ng n√™n d√πng VIEW?
Tr√°nh s·ª≠ d·ª•ng **VIEW** trong c√°c tr∆∞·ªùng h·ª£p sau:
* Khi hi·ªáu su·∫•t l√† y·∫øu t·ªë quan tr·ªçng v√† d·ªØ li·ªáu g·ªëc qu√° l·ªõn.
‚Üí VIEW **kh√¥ng cache d·ªØ li·ªáu**, c√≥ th·ªÉ g√¢y ch·∫≠m h·ªá th·ªëng n·∫øu g·ªçi nhi·ªÅu l·∫ßn.

* Khi c·∫ßn c·∫≠p nh·∫≠t d·ªØ li·ªáu th∆∞·ªùng xuy√™n th√¥ng qua VIEW.
‚Üí Nhi·ªÅu VIEW **kh√¥ng cho ph√©p ch·ªânh s·ª≠a**, ch·ªâ d√πng ƒë·ªÉ ƒë·ªçc.

* Khi h·ªá th·ªëng ƒë√£ ph·ª©c t·∫°p v·ªõi nhi·ªÅu l·ªõp truy v·∫•n.
‚Üí VIEW ch·ªìng VIEW c√≥ th·ªÉ khi·∫øn **debug tr·ªü n√™n r·ªëi r·∫Øm v√† kh√≥ b·∫£o tr√¨**.

* Khi c√°c b·∫£ng g·ªëc c√≥ th·ªÉ thay ƒë·ªïi c·∫•u tr√∫c li√™n t·ª•c.
‚Üí VIEW d·ªÖ b·ªã ‚Äúg√£y‚Äù n·∫øu c·ªôt b·ªã ƒë·ªïi t√™n ho·∫∑c xo√°.

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### üõ†Ô∏è C√¢u l·ªánh thao t√°c v·ªõi VIEW
**C√°ch t·∫°o VIEW**
```
create view danh_sach_sinh_vien as
select *
from sinh_vien;
```
<div style='margin-bottom:24px'></div>

**C√°ch g·ªçi VIEW**
```
select * from danh_sach_sinh_vien;
```
<div style='margin-bottom:24px'></div>

**Xo√° VIEW**
```
drop view danh_sach_sinh_vien;
```

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### ‚úçÔ∏è K·∫øt lu·∫≠n
**VIEW** kh√¥ng ch·ªâ gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† c√¥ng s·ª©c, m√† c√≤n g√≥p ph·∫ßn t·ªëi ∆∞u ho√° h·ªá th·ªëng v√† n√¢ng cao b·∫£o m·∫≠t. Tuy nhi√™n, b·∫°n c≈©ng c·∫ßn hi·ªÉu r√µ nh∆∞·ª£c ƒëi·ªÉm ƒë·ªÉ s·ª≠ d·ª•ng **VIEW** m·ªôt c√°ch ph√π h·ª£p v√† hi·ªáu qu·∫£.


