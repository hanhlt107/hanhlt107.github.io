---
layout: post
title: Hi·ªÉu r√µ v·ªÅ Index trong C∆° s·ªü D·ªØ li·ªáu - C√°ch t·ªëi ∆∞u truy v·∫•n hi·ªáu qu·∫£
subtitle: Index ‚Äì tr·ª£ th·ªß ƒë·∫Øc l·ª±c gi√∫p tƒÉng t·ªëc ƒë·ªô truy v·∫•n v√† c·∫£i thi·ªán hi·ªáu nƒÉng cho h·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu.
cover-img: /assets/img/code-sql.jpg
thumbnail-img: /assets/img/sql-thumb.png
share-img: /assets/img/sql.bin
tags: [books, blogs, SQL Server]
comments: true
---

>Trong th·∫ø gi·ªõi c·ªßa c∆° s·ªü d·ªØ li·ªáu, **Index (ch·ªâ m·ª•c)** ƒë√≥ng vai tr√≤ nh∆∞ m·ª•c l·ª•c c·ªßa m·ªôt cu·ªën s√°ch ‚Äì gi√∫p truy xu·∫•t d·ªØ li·ªáu nhanh ch√≥ng m√† kh√¥ng c·∫ßn ph·∫£i duy·ªát to√†n b·ªô b·∫£ng d·ªØ li·ªáu. N·∫øu b·∫°n ƒëang x√¢y d·ª±ng m·ªôt h·ªá th·ªëng c√≥ l∆∞·ª£ng d·ªØ li·ªáu l·ªõn v√† y√™u c·∫ßu truy v·∫•n nhanh, vi·ªác s·ª≠ d·ª•ng Index l√† m·ªôt k·ªπ thu·∫≠t kh√¥ng th·ªÉ b·ªè qua.

<div style="border: 1px solid #e6e6e6; margin:48px 0"></div>

### 1. T√°c d·ª•ng c·ªßa Index
Index gi√∫p **tƒÉng t·ªëc ƒë·ªô truy v·∫•n** (`SELECT`) b·∫±ng c√°ch ƒë·ªãnh v·ªã nhanh d√≤ng d·ªØ li·ªáu trong b·∫£ng. ƒêi·ªÅu n√†y ƒë·∫∑c bi·ªát h·ªØu √≠ch v·ªõi c√°c c√¢u truy v·∫•n c√≥ ƒëi·ªÅu ki·ªán l·ªçc, s·∫Øp x·∫øp, hay join nhi·ªÅu b·∫£ng.

_V√≠ d·ª•: thay v√¨ ph·∫£i qu√©t to√†n b·ªô b·∫£ng sinh vi√™n ƒë·ªÉ t√¨m sinh vi√™n c√≥ m√£ l√† "SV001", Index gi√∫p h·ªá qu·∫£n tr·ªã CSDL t√¨m tr·ª±c ti·∫øp d√≤ng ƒë√≥ nh∆∞ tra m·ªôt t·ª´ kh√≥a trong t·ª´ ƒëi·ªÉn._

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### 2. C√≥ 2 ki·ªÉu Index ch√≠nh
**üîπ Clustered Index**  
* D·ªØ li·ªáu trong b·∫£ng ƒë∆∞·ª£c **s·∫Øp x·∫øp theo th·ª© t·ª± c·ªßa ch·ªâ m·ª•c.**

* M·ªói b·∫£ng **ch·ªâ c√≥ duy nh·∫•t m·ªôt Clustered Index.**

* Th∆∞·ªùng √°p d·ª•ng cho **Primary Key.**

_üß† V√≠ d·ª•: N·∫øu b·∫°n t·∫°o Clustered Index tr√™n `ma_sinh_vien`, c√°c d√≤ng d·ªØ li·ªáu trong b·∫£ng s·∫Ω ƒë∆∞·ª£c s·∫Øp x·∫øp tƒÉng d·∫ßn theo `ma_sinh_vien`._

**üîπ Non-Clustered Index**  
* **Kh√¥ng s·∫Øp x·∫øp d·ªØ li·ªáu v·∫≠t l√Ω** trong b·∫£ng.

* M·ªôt b·∫£ng c√≥ th·ªÉ c√≥ **nhi·ªÅu Non-Clustered Index.**

* Th∆∞·ªùng ƒë∆∞·ª£c d√πng cho c√°c c·ªôt tra c·ª©u, t√¨m ki·∫øm ph·ª•.

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### 3. Khi n√†o KH√îNG n√™n d√πng Index?
M·∫∑c d√π Index r·∫•t h·ªØu √≠ch, b·∫°n **kh√¥ng n√™n s·ª≠ d·ª•ng** trong c√°c tr∆∞·ªùng h·ª£p sau:

* C·ªôt c√≥ d·ªØ li·ªáu √≠t, b·∫£ng qu√° nh·ªè (d·ªÖ g√¢y l√£ng ph√≠ t√†i nguy√™n).

* C·ªôt ƒë∆∞·ª£c c·∫≠p nh·∫≠t th∆∞·ªùng xuy√™n (`INSERT`, `UPDATE`) v√¨ vi·ªác c·∫≠p nh·∫≠t Index t·ªën chi ph√≠.

* C·ªôt ch·ª©a **gi√° tr·ªã r·ªóng** (`NULL`) nhi·ªÅu.

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### 4. M·ªôt s·ªë thu·ªôc t√≠nh kh√°c c·ªßa Index

<div style='margin-top:24px'></div>

|  ***Thu·ªôc t√≠nh***                              |  ***M√¥ t·∫£***                                         |
|----------------------------------------|--------------------------------------------|
|  _M·ªói b·∫£ng ch·ªâ c√≥ 1 Clustered Index_         |  _Do ch·ªâ c√≥ 1 c√°ch s·∫Øp x·∫øp v·∫≠t l√Ω d·ªØ li·ªáu_       |
|  _Primary Key ‚áí Clustered m·∫∑c ƒë·ªãnh_          |  _T·ª± ƒë·ªông n·∫øu kh√¥ng ch·ªâ ƒë·ªãnh kh√°c_               |
|  _Unique ‚áí Non-Clustered m·∫∑c ƒë·ªãnh_           |  _T·ª± ƒë·ªông n·∫øu kh√¥ng ch·ªâ ƒë·ªãnh kh√°c_               |
|  _C√≥ th·ªÉ t·∫°o nhi·ªÅu Non-Clustered Index_      |  _Ph√π h·ª£p cho nhi·ªÅu m·ª•c ƒë√≠ch t√¨m ki·∫øm_           |

<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### 5. C√¢u l·ªánh SQL m·∫´u
**T·∫°o Clustered Index**  
```
create clustered index index_ma_sinh_vien 
on sinh_vien(ma_sinh_vien);
```
<div style='margin-bottom:24px'></div>

**T·∫°o Non-Clustered Index**
```
create nonclustered index index_tim_kiem_ma_ten_sinh_vien 
on sinh_vien(ma_sinh_vien, ten_sinh_vien);
```

<div style='margin-bottom:24px'></div>

**Xo√° Index**
```
drop index sinh_vien(index_ma_sinh_vien);
```
<div style="border: 1px solid #e6e6e6; margin:64px 0"></div>

### 6. T·ªïng k·∫øt

<div style='margin-top:24px'></div>

| ***Clustered Index***                      |  ***Non-Clustered Index***           |
|------------------------------------|------------------------------|
|  _S·∫Øp x·∫øp v·∫≠t l√Ω d·ªØ li·ªáu_              |  _Kh√¥ng s·∫Øp x·∫øp v·∫≠t l√Ω_          |
|  _T·ªëi ƒëa 1 tr√™n m·ªói b·∫£ng_              |  _C√≥ th·ªÉ nhi·ªÅu_                 |
|  _Th∆∞·ªùng d√πng cho Primary Key_        |  _D√πng cho tra c·ª©u ph·ª•_         |

<div style='margin-top:24px'></div>

Vi·ªác s·ª≠ d·ª•ng ƒë√∫ng lo·∫°i Index, ƒë√∫ng m·ª•c ƒë√≠ch kh√¥ng ch·ªâ gi√∫p h·ªá th·ªëng ch·∫°y nhanh h∆°n m√† c√≤n **gi·∫£m t·∫£i cho c∆° s·ªü d·ªØ li·ªáu**, ti·∫øt ki·ªám t√†i nguy√™n v√† tƒÉng tr·∫£i nghi·ªám ng∆∞·ªùi d√πng.

